---
title: 在HTML中使用JavaScript
date: 2017-07-28 15:08:39
tags:
- JavaScript
- HTML
categories:
- 读书笔记
- JavaScript高级程序设计
---

``在HTML中使用JavaScript``    ``对应「JavaScript高级程序设计」中的第二章``

<!--more-->

***

参与过Web开发的人多多少少会觉得这一章比较简单，因此这一章的篇幅不会太长。不过，在HTML中使用JavaScript还是有不少小细节值得我们注意。

# script属性

在HTML4.0.1中，``<script>``元素包含六个属性（其中很少被用到的charset属性及已经被废弃的language属性这里不再赘述）：

> * **asycn：** 立即下载脚本，一旦脚本下载完之后会立即执行，但是在下载脚本的过程中不阻塞页面中其它操作。只对外部脚本文件有效。 语法为:
```
    <script async = "async" >
```
> * **defer：** 脚本可以被延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效。语法为：
```
    <script defer="defer">
```

asycn和defer的用法需要我们额外注意。当运行到一个不包含async和defer属性的普通<script&#62;元素时，浏览器会等待其中的js脚本执行完毕之后再渲染该<script&#62;元素之后的其它文档。当<script&#62;包含asycn属性时，加载js脚本和渲染后续文档将并行（异步）执行，而当<script&#62;包含defer属性时，尽管加载和渲染仍然是异步进行，但js的执行却要被延迟到所有页面元素解析完成之后。另外需要注意的是，defer按照加载顺序执行脚本，async却无顺序可言，哪个脚本先加载完就执行哪个脚本。具体的执行顺序如下图：

![](https://raw.githubusercontent.com/ForestCold/image/master/%E8%AF%BB2-1.jpg)

> * **src：** 包含要执行的外部文件。
> * **type：** 表示编写代码所使用的脚本语言内容类型，默认为 text/JavaScript。

# script执行方式

<script&#62;有嵌入式代码和包含外部脚本两种执行方式，分别是在<script&#62;</script&#62;标签中间编写JavaScript代码，或者使用src属性引入外部的JavaScript脚本。这两种方式你应该都非常熟悉了，唯一值得注意的是不要混用这两种写法，否则嵌入式代码将不被执行。

如果可以，应该尽可能使用外部脚本，相对嵌入式代码而言，它拥有 *可维护性*、*可缓存*、*适应未来* 三个优点。

# script标签的放置位置

最佳的<script&#62;标签放置位置应该在</body&#62;标签的上方，这样在解析JavaScript之前浏览器页面就已经渲染了出来。对于那些没有耐心的用户来说，这无疑是一种最友好的方式。

# 文档模式

> * **文档模式：** 包括 **混杂模式（quirks mode）**、**标准模式** 和 **准标准模式**，通过文档类型切换实现。

我们在网页头部经常看到的<!DOCTYPE html>决定了文档模式。不同的文档模式主要影响以下几个问题：


> * 盒模型的解析（经常造成不同浏览器上图片样式不同的问题）。
> * 图片底部的空白（标准模式下图片底部有3px的空白，混杂模式则没有）。
> * 表格中的字体是否继承祖先元素（混杂模式下不会继承）。
> * 混杂模式下的IE浏览器，给inline设置宽高都有效，并且和其它浏览器对百分比的宽度和高度解析不同。
> * 混杂模式下的IE溢出内容会自适应尺寸，而标准模式下溢出元素是可见的。

关于文档模式的更多细节请参见[叫我钱了个浅的博客](http://www.cnblogs.com/qianlegeqian/p/4067635.html)。
由于之后还会深入学习文档模式，所以这里做个简单了解就可以啦。
